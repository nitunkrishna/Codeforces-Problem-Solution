#include"bits/stdc++.h"

using namespace std;

int main()
{
    string str, temp;
    cin >> str;
    temp.resize(str.size());
    int cnt=0;
    for(int i=0; i<str.size(); i++)
        if(isupper(str[i]))cnt++;
    if(str.size()==1 && islower(str[0])) cout << char(toupper(str[0])) << endl;
    else if(str.size()==1 && isupper(str[0])) cout << char(tolower(str[0])) << endl;
    else if(cnt==str.size())
    {
        for(int i=0; i<str.size(); i++)
            temp[i]=tolower(str[i]);
        cout << temp << endl;
    }
    else if(islower(str[0]) && cnt==str.size()-1)
    {
        temp[0]=toupper(str[0]);
        for(int i=1; i<str.size(); i++)
            temp[i]=tolower(str[i]);
        cout << temp << endl;
    }
    else cout << str << endl;
}
